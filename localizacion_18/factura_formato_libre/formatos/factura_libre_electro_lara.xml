<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data> 
  <record id="paperformat_forma_libre_loca_v17" model="report.paperformat">

      <field name="default" eval="True"/>
        <field name="name">A4 Factura Forma Libre </field>
        <field name="default" eval="True"/>
        <field name="format">custom</field>
        <field name="page_height">140</field>
        <field name="page_width">216</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">25</field>
        <field name="margin_bottom">33</field>
        <field name="margin_left">5</field>
        <field name="margin_right">10</field>
        <field name="header_line" eval="False"/>
        <field name="header_spacing">35</field>
        <field name="dpi">96</field>
  </record>

    <record id="action_formato_libre_report" model="ir.actions.report">
            <field name="name">Formato Libre</field>
            <field name="model">account.move</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">factura_formato_libre.facturas_libre</field>
            <field name="report_file">factura_formato_libre.facturas_libre</field>
            <field name="binding_model_id" eval="False"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="factura_formato_libre.paperformat_forma_libre_loca_v17"/>
    </record>

    <template id="facturas_libre">
      <t t-call="web.html_container">
        <t t-call="web.basic_layout" >
          
            <div class="page">
              <!-- cabecera 1 -->
              <table width="100%" class="table table-borderless" style="font-size:12px;">
                <tr>
                  <td>
                    Nombre y Apellido o Razón Social:&amp;nbsp;<t t-esc="docs.partner_id.name"/>
                  </td>
                  <t t-if="docs.move_type == 'out_invoice'">
                    <td align="right">
                      Factura:&amp;nbsp;<span t-esc="docs.name"/>
                      &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                      &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    </td>
                  </t>
                  <t t-if="docs.move_type == 'out_refund'">
                    <td align="right">
                      Nro Nota Crédito:&amp;nbsp;<span t-esc="docs.name"/>
                      &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                      &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                      <br/>
                      Factura Afectada:&amp;nbsp;<span t-esc="docs.ref"/>
                    </td>
                  </t>
                  <t t-if="docs.move_type == 'receipt'">
                    <td align="right">
                      Nro Nota Débito:&amp;nbsp;<span t-esc="docs.name"/>
                      &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                      &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                      <br/>
                      Factura Afectada:&amp;nbsp;<span t-esc="docs.ref"/>
                    </td>
                  </t>
                </tr>

                <tr>
                  <td>
                    RIF:<t t-esc="docs.doc_cedula(docs.partner_id.id)"/>
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    Teléfono:&amp;nbsp;&amp;nbsp;<t t-esc="docs.partner_id.phone"/>/<t t-esc="docs.partner_id.mobile"/>
                  </td>
                  <td align="right">
                    Fecha:&amp;nbsp;<span t-field="docs.invoice_date"/>
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                  </td>
                </tr>
                <tr>
                  <td colspan="2">
                    Dirección Fiscal:
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    <t t-esc="docs.partner_id.street"/>, <t t-esc="docs.partner_id.street2"/>, <t t-esc="docs.partner_id.city"/> - <t t-esc="docs.partner_id.state_id.name"/>
                  </td>
                </tr>

                <tr>
                  <td colspan="2">
                    Condición:&amp;nbsp;<t t-esc="docs.condicion_pago(docs.cond_fact)"/>
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    Vence:&amp;nbsp;<span t-field="docs.invoice_date_due"/>
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    Vendedor:&amp;nbsp;<span t-field="docs.invoice_user_id.name"/>
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    Observación:&amp;nbsp;<span t-field="docs.observacion"/>
                  </td>
                </tr>
              </table>
              
              <table width="100%" class="table table-borderless table-sm ">
              <!--table width="100%" class="table table-borderless"-->
                <thead>
                  <tr align="center" style="font-size:12px;">
                    <td>Descripción</td>
                    <td>Cantidad</td>
                    <td>Precio Unitario Bs.</td>
                    <td>% I.V.A</td>
                    <td>Total Bs.</td>
                  </tr>
                  <tr align="center">
                    <td colspan='5'><div class="border-bottom border-dark border-1"/></td>
                  </tr>
                </thead>
                <t t-set="num" t-value="1"/>
                <t t-foreach="docs.invoice_line_ids" t-as="o">
                  <t t-if="o.linea_exenta==False">
                    <tr style="font-size:11px;">
                      <td>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*<t t-esc="o.vista_espacio(o.name)"/></td>
                      <!--td>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*</td-->
                      <td align="right"><t t-esc="o.float_format(o.quantity)"/></td>
                      <td align="right"><t t-esc="o.float_format(o.equivalente_bs(o.price_unit))"/></td>
                      <td align="center">
                        <t t-if="o.tax_ids.amount!=0">
                            <t t-esc="o.float_format(o.tax_ids.amount)"/>
                        </t>
                        <t t-else="">
                          (E)
                        </t>
                      </td>
                      <td align="right"><t t-esc="o.float_format(o.equivalente_bs(o.price_subtotal))"/></td>
                    </tr>
                  </t>
                </t>

              </table>
            </div><!-- fin page -->

            <div class="footer">
              <div class="border-bottom border-dark border-1"/>
              <table width="100%" class="table table-borderless">
                
                <tr style="font-size:12px;">
                  <td>
                    Son:&amp;nbsp;&amp;nbsp;<t t-esc="docs.get_literal_amount(docs.equivalente_bs(docs.amount_total))"/>
                    <br/><br/><br/>
                    El Pago total o parcial de esta factura en una moneda diferente a Bolivares causará el 3% de IGTF <br/>adicional al monto total indicado.
                  </td>
                  <td align="right">
                    SUB-TOTAL:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    <t t-esc="docs.float_format(docs.equivalente_bs(docs.amount_base_imponible+docs.amount_exento))"/>&amp;nbsp;Bs.
                    <br/>
                    BASE IMPONIBLE:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    <t t-esc="docs.float_format(docs.equivalente_bs(docs.amount_base_imponible))"/>&amp;nbsp;Bs.
                    <br/>
                    I.V.A 16% (<t t-esc="docs.float_format(docs.base_imp_16())"/>):&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    <t t-esc="docs.float_format(docs.equivalente_bs(docs.amount_tax))"/>&amp;nbsp;Bs.
                    <br/>
                    TOTAL FACTURA:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    <t t-esc="docs.float_format(docs.equivalente_bs(docs.amount_total-docs.amount_igtf))"/>&amp;nbsp;Bs.
                    <br/>
                    I.G.T.F 3% (<t t-esc="docs.float_format(docs.base_igtf())"/>):&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    <t t-esc="docs.float_format(docs.equivalente_bs(docs.amount_igtf))"/>&amp;nbsp;Bs.
                    <br/>
                    TOTAL A PAGAR:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                    <t t-esc="docs.float_format(docs.equivalente_bs(docs.amount_total))"/>&amp;nbsp;Bs.
                  </td>
                </tr>
              </table>
            </div>
          
        </t>
      </t>
    </template>

    

        
  
  </data>
</odoo>